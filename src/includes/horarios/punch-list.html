<div x-data="{
    punches: [
        { cliente: 'Cdad. Prop. La Marina Urbis', tipo: 'Entrada / Salida', fechaInicio: '22-01-2026', fechaFin: '22-01-2026', horaInicio: '11:09', horaFin: '11:10', total: '00:00', hasObs: true, firma: 'f1.png' },
        { cliente: 'Valladares El Goro / El Goro', tipo: 'Entrada / Salida', fechaInicio: '20-01-2026', fechaFin: '20-01-2026', horaInicio: '10:37', horaFin: '10:37', total: '00:00', hasObs: false, firma: 'f2.png' },
        { cliente: 'Cdad. Prop. La Marina Urbis', tipo: 'Entrada / Salida', fechaInicio: '16-01-2026', fechaFin: '16-01-2026', horaInicio: '10:20', horaFin: '10:20', total: '00:00', hasObs: true, firma: 'f3.png' },
        { cliente: 'Cdad. Prop. La Marina Urbis', tipo: 'Entrada / Salida', fechaInicio: '15-01-2026', fechaFin: '15-01-2026', horaInicio: '09:58', horaFin: '16:15', total: '06:17', hasObs: true, firma: 'f4.png' },
        { cliente: 'Valladares Canarias, S.L.', tipo: 'Entrada / Salida', fechaInicio: '14-01-2026', fechaFin: '14-01-2026', horaInicio: '08:21', horaFin: '12:34', total: '04:12', hasObs: true, firma: 'f5.png' }
    ]
}" class="col-span-12">

    <!-- Page Header -->
    <div class="mb-8 flex items-center justify-between">
        <div>
            <h2 class="text-3xl font-black text-gray-900 dark:text-white mb-2">Mis Horarios</h2>
            <p class="text-gray-500 dark:text-gray-400">Historial de registros y fichajes realizados.</p>
        </div>
        <div class="hidden sm:block">
            <button
                class="inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 transition-colors shadow-sm">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 4.5h18m-18 5h18m-18 5h18m-18 5h18"></path>
                </svg>
                Filtrar registros
            </button>
        </div>
    </div>

    <!-- Punch-in Cards Grid -->
    <div class="grid grid-cols-1 xl:grid-cols-2 gap-6">
        <template x-for="(punch, index) in punches" :key="index">
            <div
                class="group bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-xl hover:border-brand-500/20 transition-all duration-300 overflow-hidden">
                <div class="p-6 md:p-8">
                    <!-- Top Info: Client & Badge -->
                    <div class="flex flex-wrap items-start justify-between gap-4 mb-6">
                        <div class="flex-1 min-w-[200px]">
                            <span class="text-xs font-bold uppercase tracking-widest text-brand-500 mb-2 block"
                                x-text="punch.tipo"></span>
                            <h3 class="text-xl font-black text-gray-900 dark:text-white group-hover:text-brand-500 transition-colors"
                                x-text="punch.cliente || 'Fichaje Libre'"></h3>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <span
                                    class="text-xs font-bold text-gray-400 dark:text-gray-500 uppercase block mb-1">Total
                                    horas</span>
                                <span class="text-2xl font-black text-gray-900 dark:text-white"
                                    x-text="punch.total"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Divider -->
                    <div class="h-px bg-gray-100 dark:bg-gray-700 w-full mb-6"></div>

                    <!-- Details Grid -->
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-6">
                        <!-- Inicio -->
                        <div class="space-y-1">
                            <span
                                class="text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-tighter">Fecha
                                Inicio</span>
                            <div class="flex items-center text-gray-700 dark:text-gray-300 font-bold">
                                <svg class="w-4 h-4 mr-2 text-brand-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                                    </path>
                                </svg>
                                <span x-text="punch.fechaInicio"></span>
                            </div>
                        </div>
                        <div class="space-y-1">
                            <span
                                class="text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-tighter">Hora
                                Inicio</span>
                            <div class="flex items-center text-gray-700 dark:text-gray-300 font-bold">
                                <svg class="w-4 h-4 mr-2 text-brand-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span x-text="punch.horaInicio"></span>
                            </div>
                        </div>

                        <!-- Fin -->
                        <div class="space-y-1">
                            <span
                                class="text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-tighter">Fecha
                                Fin</span>
                            <div class="flex items-center text-gray-700 dark:text-gray-300 font-bold">
                                <svg class="w-4 h-4 mr-2 text-red-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                                    </path>
                                </svg>
                                <span x-text="punch.fechaFin || '- - -'"></span>
                            </div>
                        </div>
                        <div class="space-y-1">
                            <span
                                class="text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-tighter">Hora
                                Fin</span>
                            <div class="flex items-center text-gray-700 dark:text-gray-300 font-bold">
                                <svg class="w-4 h-4 mr-2 text-red-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span x-text="punch.horaFin || '- - -'"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Footer Actions (Obs & Firma) -->
                    <div
                        class="mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <!-- Obs Indicator -->
                            <div @click="$dispatch('open-obs', punch)" role="button"
                                :class="punch.hasObs ? 'text-green-500 bg-green-50 dark:bg-green-500/10 cursor-pointer hover:bg-green-100 transition-colors' : 'text-gray-300 bg-gray-50 dark:bg-gray-700/30 cursor-not-allowed'"
                                class="p-2 rounded-xl flex items-center gap-2 px-3 transition-colors">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z">
                                    </path>
                                </svg>
                                <span class="text-xs font-black uppercase"
                                    x-text="punch.hasObs ? 'Con Obs.' : 'Sin Obs.'"></span>
                            </div>
                        </div>

                        <!-- Signature Preview (Dummy) -->
                        <div class="flex items-center gap-3">
                            <span
                                class="text-[10px] font-black text-gray-400 uppercase tracking-tighter hidden md:block text-right leading-none">Firma
                                del<br>cliente</span>
                            <div @click="$dispatch('open-sign', punch)" role="button"
                                class="w-16 h-10 bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-700 rounded-lg flex items-center justify-center cursor-pointer hover:border-brand-500 hover:scale-105 transition-all duration-300">
                                <svg class="w-10 h-6 text-gray-300" viewBox="0 0 40 20" fill="none"
                                    stroke="currentColor" stroke-width="1">
                                    <path d="M5 15 C10 10, 30 18, 35 5" stroke-linecap="round" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    </div>
</div>